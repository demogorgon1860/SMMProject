# ===================================================================
# SMM Panel Environment Configuration
# ===================================================================
# IMPORTANT: This is the single source of truth for all environment variables
# All other configuration files should reference these variables
# ===================================================================

# ===================================================================
# APPLICATION SETTINGS
# ===================================================================
SPRING_PROFILES_ACTIVE=dev
SERVER_PORT=8080
TZ=UTC

# ===================================================================
# DATABASE CONFIGURATION (PostgreSQL)
# ===================================================================
# Primary database configuration
DB_HOST=localhost
DB_PORT=5432
DB_NAME=smm_panel
DB_USER=smm_admin
DB_PASSWORD=postgres123
DB_URL=jdbc:postgresql://localhost:5432/smm_panel

# Spring Boot 3.x standard naming (these take priority)
SPRING_DATASOURCE_URL=jdbc:postgresql://localhost:5432/smm_panel
SPRING_DATASOURCE_USERNAME=smm_admin
SPRING_DATASOURCE_PASSWORD=postgres123
SPRING_DATASOURCE_DRIVER_CLASS_NAME=org.postgresql.Driver

# HikariCP Connection Pool
SPRING_DATASOURCE_HIKARI_MAXIMUM_POOL_SIZE=20
SPRING_DATASOURCE_HIKARI_MINIMUM_IDLE=5
SPRING_DATASOURCE_HIKARI_CONNECTION_TIMEOUT=20000
SPRING_DATASOURCE_HIKARI_IDLE_TIMEOUT=600000
SPRING_DATASOURCE_HIKARI_MAX_LIFETIME=1800000

# PostgreSQL Docker container
POSTGRES_DB=smm_panel
POSTGRES_USER=smm_admin
POSTGRES_PASSWORD=postgres123

# Liquibase Migration
SPRING_LIQUIBASE_ENABLED=true
SPRING_LIQUIBASE_CONTEXTS=dev
SPRING_LIQUIBASE_CHANGE_LOG=classpath:db/changelog/db.changelog-master.xml

# ===================================================================
# REDIS CONFIGURATION
# ===================================================================
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=+gsIju8KLK2FWJ9/8Mxd5Rv6kwIdrf/gwkq4sWkJ6H0=

# Spring Boot 3.x standard naming
SPRING_DATA_REDIS_HOST=localhost
SPRING_DATA_REDIS_PORT=6379
SPRING_DATA_REDIS_PASSWORD=+gsIju8KLK2FWJ9/8Mxd5Rv6kwIdrf/gwkq4sWkJ6H0=
SPRING_DATA_REDIS_DATABASE=0
SPRING_DATA_REDIS_TIMEOUT=5000

# ===================================================================
# KAFKA CONFIGURATION
# ===================================================================
KAFKA_BOOTSTRAP_SERVERS=localhost:9092

# Spring Boot 3.x standard naming
SPRING_KAFKA_BOOTSTRAP_SERVERS=localhost:9092
SPRING_KAFKA_CONSUMER_GROUP_ID=smm-panel-group
SPRING_KAFKA_CONSUMER_AUTO_OFFSET_RESET=earliest
SPRING_KAFKA_PRODUCER_ACKS=all

# ===================================================================
# SECURITY CONFIGURATION
# ===================================================================
# Default Admin User (created on first startup if not exists)
ADMIN_USERNAME=admin
ADMIN_EMAIL=admin@smmpanel.local
ADMIN_PASSWORD=Admin@2025!Secure
ADMIN_INITIAL_BALANCE=1000

# JWT Configuration
JWT_SECRET=Mhd6YElbFvskMPTHMGYafbwnboiGhQSacGgeF4NJ2eDlpu6HjvHmUG5jjXVWuI9XxFfLPyvaISnV/rqotvUkMg==
JWT_EXPIRATION_MS=86400000
JWT_REFRESH_EXPIRATION_MS=604800000

# API Key Security
API_KEY_GLOBAL_SALT=c73a93d6ebd0886f214d390f2ef4466f924ee2edcd1af019f2b9b9244b91f286

# ===================================================================
# EXTERNAL API INTEGRATIONS
# ===================================================================

# Binom Integration
# TODO: Replace with your actual Binom domain URL
BINOM_API_URL=http://148.113.47.108
BINOM_API_KEY=8f25ea1198f24b9dbcd1ad6efbed8d37fe8b10988b6e2ef2034d21ce627a5da5
BINOM_API_TIMEOUT=30000
BINOM_RETRY_ATTEMPTS=3
BINOM_API_VERSION=v2
BINOM_DEFAULT_COEFFICIENT=3.0
BINOM_MAX_CAMPAIGNS_PER_ORDER=5

# YouTube API
YOUTUBE_API_KEY=AIzaSyDLOo4ZKOmY9IxIH5FdLc1opNOiMaCHdO4
YOUTUBE_QUOTA_DAILY_LIMIT=10000
YOUTUBE_QUOTA_PER_MINUTE=300
YOUTUBE_CACHE_TTL=600
YOUTUBE_CLIP_CREATION_ENABLED=true
YOUTUBE_CLIP_COEFFICIENT=3.0

# Cryptomus Payment Processing (Simple User Account)
CRYPTOMUS_API_URL=https://api.cryptomus.com
CRYPTOMUS_ENABLED=true
CRYPTOMUS_USER_API_KEY=cbb847e3f5d0d8cb63112dac193e1b16d2008273
CRYPTOMUS_PAYOUT_API_KEY=2RuKolX9PE70AZf4M4iM5UtdZKpKr9dGrAPq3qQqGUXHlTR30kMSJynGkJ2h7kV4hUuIbIWhwjOHQP4qPDKvdRk6aZsSdCrX6Vks6hzsyS6hyoa5RphAE7tAtTtV7Ww8
CRYPTOMUS_MIN_DEPOSIT=5.00
# Merchant-specific fields (not applicable for simple user account)
CRYPTOMUS_API_SECRET=not-applicable
CRYPTOMUS_WEBHOOK_SECRET=not-applicable
CRYPTOMUS_MERCHANT_ID=not-applicable

# ===================================================================
# CORS CONFIGURATION
# ===================================================================
CORS_ORIGINS=http://localhost:3000,http://localhost:5173,http://localhost:8080

# ===================================================================
# MONITORING & OBSERVABILITY
# ===================================================================
# Grafana
GRAFANA_USER=admin
GRAFANA_PASSWORD=Grafana_Dev@2025!

# Spring Boot Actuator
MANAGEMENT_ENDPOINTS_WEB_EXPOSURE_INCLUDE=health,info,metrics,prometheus,env,beans
MANAGEMENT_ENDPOINT_HEALTH_SHOW_DETAILS=always
# MANAGEMENT_ENDPOINT_HEALTH_SHOW_COMPONENTS is not supported in Spring Boot 3.x
# Only show-details is available
MANAGEMENT_METRICS_EXPORT_PROMETHEUS_ENABLED=true

# ===================================================================
# FEATURE FLAGS
# ===================================================================
YOUTUBE_PROCESSING_ENABLED=true
BINOM_INTEGRATION_ENABLED=true
PAYMENT_PROCESSING_ENABLED=true
EMAIL_NOTIFICATIONS_ENABLED=true

# ===================================================================
# DEVELOPMENT SETTINGS
# ===================================================================
TEST_MODE=true
DEBUG_API_REQUESTS=true
ENABLE_SWAGGER_UI=true

# Hibernate/JPA Development Settings
SPRING_JPA_HIBERNATE_DDL_AUTO=validate
SPRING_JPA_SHOW_SQL=false
HIBERNATE_SHOW_SQL=true
HIBERNATE_FORMAT_SQL=true
HIBERNATE_SQL_COMMENTS=true
HIBERNATE_BATCH_SIZE=25
HIBERNATE_FETCH_SIZE=50
HIBERNATE_DEFAULT_BATCH_FETCH_SIZE=16
HIBERNATE_L2_CACHE_ENABLED=true
HIBERNATE_QUERY_CACHE_ENABLED=true
HIBERNATE_STATISTICS=false

# Logging Levels
LOGGING_LEVEL_ROOT=INFO
LOGGING_LEVEL_COM_SMMPANEL=DEBUG
LOGGING_LEVEL_ORG_SPRINGFRAMEWORK_SECURITY=DEBUG
LOGGING_LEVEL_ORG_HIBERNATE_SQL=DEBUG

# ===================================================================
# CACHE CONFIGURATION
# ===================================================================
CACHE_SERVICES_TTL=3600
CACHE_USERS_TTL=1800
CACHE_COEFFICIENTS_TTL=7200
CACHE_YOUTUBE_TTL=600

# ===================================================================
# RESILIENCE4J CONFIGURATION
# ===================================================================
# Circuit Breaker
BINOM_CB_FAILURE_RATE_THRESHOLD=45
BINOM_CB_SLOW_CALL_RATE_THRESHOLD=40
BINOM_CB_WAIT_DURATION_OPEN=PT45S
BINOM_CB_MIN_CALLS=15

# Retry
BINOM_RETRY_MAX_ATTEMPTS=4
BINOM_RETRY_WAIT_DURATION=PT2S
BINOM_RETRY_BACKOFF_MULTIPLIER=1.8

# ===================================================================
# ADDITIONAL SETTINGS
# ===================================================================
DEFAULT_CURRENCY=USD
EMAIL_ENABLED=false
EMAIL_FROM=noreply@smmpanel.com
FILE_UPLOAD_PATH=/tmp/smm-panel/uploads

# ===================================================================
# ERROR RECOVERY & DLQ SETTINGS
# ===================================================================
ERROR_RECOVERY_MAX_RETRIES=3
ERROR_RECOVERY_INITIAL_DELAY_MINUTES=5
ERROR_RECOVERY_MAX_DELAY_HOURS=24
ERROR_RECOVERY_BACKOFF_MULTIPLIER=2.0
DLQ_RETENTION_DAYS=30
DLQ_MAX_ENTRIES=10000

# ===================================================================
# SELENIUM CONFIGURATION (for YouTube automation)
# ===================================================================
SELENIUM_DRIVER_PATH=/usr/local/bin/chromedriver

# ===================================================================
# MONITORING THRESHOLDS
# ===================================================================
KAFKA_LAG_THRESHOLD=10000
KAFKA_ERROR_THRESHOLD=0.05
KAFKA_DLQ_TOPIC=video.processing.dlq
CONNECTION_POOL_HIGH_USAGE_THRESHOLD=75
CONNECTION_POOL_CRITICAL_USAGE_THRESHOLD=90
CONNECTION_POOL_SLOW_QUERY_THRESHOLD=5000
QUERY_COUNT_MONITORING_ENABLED=false
TRANSACTION_MONITORING_ENABLED=false
TRANSACTION_TRACE_ENABLED=false

# ===================================================================
# BINOM MONITORING & SYNC
# ===================================================================
BINOM_MONITORING_ENABLED=true
BINOM_METRICS_INTERVAL=300000
BINOM_HEALTH_CHECK_INTERVAL=60000
BINOM_ALERT_RESPONSE_TIME=5000
BINOM_ALERT_ERROR_RATE=5.0
BINOM_ALERT_FAILURE_RATE=10.0
BINOM_SYNC_ENABLED=true
BINOM_SYNC_INTERVAL=300000
BINOM_SYNC_BATCH_SIZE=100
BINOM_SYNC_SCHEDULER_ENABLED=true
BINOM_SYNC_INTERVAL_MINUTES=5
BINOM_AUTO_PAUSE_ENABLED=true
BINOM_STATS_UPDATE_INTERVAL=60000

# ===================================================================
# BINOM RATE LIMITING
# ===================================================================
BINOM_RATE_LIMITING_ENABLED=true
BINOM_REQUESTS_PER_MINUTE=120
BINOM_REQUESTS_PER_HOUR=1000
BINOM_BURST_CAPACITY=20

# ===================================================================
# BINOM CACHE SETTINGS
# ===================================================================
BINOM_CACHE_ENABLED=true
BINOM_CACHE_TTL_MINUTES=5
BINOM_CACHE_CAMPAIGNS_TTL=1800
BINOM_CACHE_OFFERS_TTL=3600
BINOM_CACHE_STATISTICS_TTL=300
BINOM_CACHE_LANDING_PAGES_TTL=7200

# ===================================================================
# YOUTUBE ADDITIONAL SETTINGS
# ===================================================================
YOUTUBE_QUOTA_WARNING_THRESHOLD=0.8
YOUTUBE_QUOTA_TRACKING_ENABLED=true
YOUTUBE_STATS_CACHE_TTL=300
YOUTUBE_CHANNEL_CACHE_TTL=3600
YOUTUBE_CLIP_TIMEOUT=300000
YOUTUBE_CLIP_RETRY_ATTEMPTS=2

# ===================================================================
# ERROR HANDLING & DEBUG
# ===================================================================
ERROR_INCLUDE_STACK_TRACE=false
ERROR_INCLUDE_DEBUG_INFO=false

# ===================================================================
# LOG FILE CONFIGURATION
# ===================================================================
LOG_FILE_PATH=/var/log/smm-panel/application.log